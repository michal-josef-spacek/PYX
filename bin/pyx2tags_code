#!/usr/bin/env perl
# $Id: pyx2tags_code,v 1.8 2006-04-10 01:23:47 skim Exp $

# Pragmas.
use strict;
use warnings;

# Modules.
use PYX::Write::Tags::Code;
use Dumpvalue;

# Open file.
my $input_file_handler = \*STDIN;
if ($ARGV[0]) {
	if (! open(INF, "<$ARGV[0]")) {
		die "Cannot open file '$ARGV[0]'.";
	}
	$input_file_handler = \*INF;
}

# PYX::Write::Tags::Code object.
my $writer = PYX::Write::Tags::Code->new;
$writer->parse_handler($input_file_handler);
my $ret = $writer->get_tags_code;

# Dump.
my $dump = Dumpvalue->new;
$dump->dumpValues($ret);

# Close file.
if ($ARGV[0]) {
	close(INF);
}

