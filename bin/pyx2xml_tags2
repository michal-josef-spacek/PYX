#!/usr/bin/env perl
# $Id: pyx2xml_tags2,v 1.9 2006-04-10 13:18:13 skim Exp $

# Pragmas.
use strict;
use warnings;

# Modules.
use PYX::Write::Tags2;
use Tags2;

# Arguments.
if ($#ARGV < 0) {
	print "Usage: $0 [filename] [-]\n";
	print "\tfilename\tprocess on filename\n";
	print "\t-\t\tprocess on stdin\n";
	exit 1;
}

# Tags2 object.
my $tags = Tags2->new(
	'output_handler' => *STDOUT,
);

# PYX::Write::Tags2 object.
my $writer = PYX::Write::Tags2->new(
	'tags_obj' => $tags,
);

# Parse from stdin.
if ($ARGV[0] eq '-') {
	$writer->parse_handler(\*STDIN);

# Parse file.
} else {
	$writer->parse_file($ARGV[0]);
}

$tags->flush;
print "\n";
